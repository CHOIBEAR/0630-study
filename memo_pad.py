import os

# --------------------------------------------------
# 1. 공통 입력 도우미
# --------------------------------------------------
def _입력(메시지: str) -> str:
    """콘솔 입력값 앞뒤 공백 제거"""
    return input(메시지).strip()

# --------------------------------------------------
# 2. 새 메모 작성 (쓰기 모드: 'w')
# --------------------------------------------------
def 새메모():
    파일명 = _입력("📝 새 파일명(예: note.txt)을 입력하세요 : ")
    with open(파일명, 'w', encoding='utf-8') as f:
        print("내용을 입력하세요. 줄바꿈 = 빈 줄, 종료 = exit()")
        while True:
            글 = input()
            if 글 == 'exit()':
                break
            if 글 == '':
                글 = '\n'
            f.write(글)
    print(f"✅ '{파일명}' 저장 완료\n")

# --------------------------------------------------
# 3. 기존 메모 이어쓰기 (추가 모드: 'a')
# --------------------------------------------------
def 이어쓰기():
    파일명 = _입력("➕ 내용 추가할 파일명 : ")
    if not os.path.exists(파일명):
        print("⚠️  해당 파일이 없습니다.\n")
        return
    with open(파일명, 'a', encoding='utf-8') as f:
        print("추가할 내용을 입력하세요. 줄바꿈 = 빈 줄, 종료 = exit()")
        while True:
            글 = input()
            if 글 == 'exit()':
                break
            if 글 == '':
                글 = '\n'
            f.write(글)
    print(f"✅ '{파일명}'에 내용 추가 완료\n")

# --------------------------------------------------
# 4. 메모 읽기 (읽기 모드: 'r')
# --------------------------------------------------
def 메모읽기():
    파일명 = _입력("📖 읽을 파일명 : ")
    try:
        with open(파일명, 'r', encoding='utf-8') as f:
            print("\n------ 파일 내용 ------")
            print(f.read(), end='')
            print("-----------------------\n")
    except FileNotFoundError:
        print("⚠️  해당 파일이 없습니다.\n")

# --------------------------------------------------
# 5. 간단한 텍스트 메뉴
# --------------------------------------------------
def 메인():
    메뉴 = {
        '1': ("새 메모 작성", 새메모),
        '2': ("기존 메모 이어쓰기", 이어쓰기),
        '3': ("메모 읽기", 메모읽기),
        '4': ("종료", None)
    }

    while True:
        print("=== 메모장 ===")
        for 번호, (설명, _) in 메뉴.items():
            print(f"{번호}. {설명}")
        choice = _입력("번호 선택 ▶ ")

        if choice == '4':
            print("👋 프로그램을 종료합니다.")
            break
        func = 메뉴.get(choice, (None, None))[1]
        if func:
            func()
        else:
            print("❌ 잘못된 선택입니다.\n")

# --------------------------------------------------
if __name__ == "__main__":
    메인()
